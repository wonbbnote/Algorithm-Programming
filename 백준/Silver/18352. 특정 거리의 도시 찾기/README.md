# \[Silver II] 특정 거리의 도시 찾기 - 18352

[문제 링크](https://www.acmicpc.net/problem/18352)

### 성능 요약

메모리: 367420 KB, 시간: 3020 ms

### 분류

너비 우선 탐색, 데이크스트라, 그래프 이론, 그래프 탐색, 최단 경로

### 제출 일자

2024년 11월 28일 15:09:53

### 문제 설명

어떤 나라에는 1번부터 _&#x4E;_&#xBC88;까지의 도시와 _&#x4D;_&#xAC1C;의 단방향 도로가 존재한다. 모든 도로의 거리는 1이다.

이 때 특정한 도시 _&#x58;_&#xB85C;부터 출발하여 도달할 수 있는 모든 도시 중에서, 최단 거리가 정확히 _&#x4B;_&#xC778; 모든 도시들의 번호를 출력하는 프로그램을 작성하시오. 또한 출발 도시 _&#x58;_&#xC5D0;서 출발 도시 _&#x58;_&#xB85C; 가는 최단 거리는 항상 0이라고 가정한다.

예를 들어 _N_=4, _K_=2, _X_=1일 때 다음과 같이 그래프가 구성되어 있다고 가정하자.

![](https://upload.acmicpc.net/a5e311d7-7ce4-4638-88a5-3665fb4459e5/-/preview/)

이 때 1번 도시에서 출발하여 도달할 수 있는 도시 중에서, 최단 거리가 2인 도시는 4번 도시 뿐이다. 2번과 3번 도시의 경우, 최단 거리가 1이기 때문에 출력하지 않는다.

### 입력

첫째 줄에 도시의 개수 _N_, 도로의 개수 _M_, 거리 정보 _K_, 출발 도시의 번호 _&#x58;_&#xAC00; 주어진다. (2 ≤ _N_ ≤ 300,000, 1 ≤ _M_ ≤ 1,000,000, 1 ≤ _K_ ≤ 300,000, 1 ≤ _X_ ≤ _N_) 둘째 줄부터 _&#x4D;_&#xAC1C;의 줄에 걸쳐서 두 개의 자연수 _A_, _&#x42;_&#xAC00; 공백을 기준으로 구분되어 주어진다. 이는 _&#x41;_&#xBC88; 도시에서 _&#x42;_&#xBC88; 도시로 이동하는 단방향 도로가 존재한다는 의미다. (1 ≤ _A_, _B_ ≤ _N_) 단, _&#x41;_&#xC640; _&#x42;_&#xB294; 서로 다른 자연수이다.

### 출력

_&#x58;_&#xB85C;부터 출발하여 도달할 수 있는 도시 중에서, 최단 거리가 _&#x4B;_&#xC778; 모든 도시의 번호를 한 줄에 하나씩 오름차순으로 출력한다.

이 때 도달할 수 있는 도시 중에서, 최단 거리가 _&#x4B;_&#xC778; 도시가 하나도 존재하지 않으면 -1을 출력한다.
